
// 地址查找链接 https://www.mca.gov.cn/mzsj/xzqh/2020/20201201.html
//jump2 是定位，jump1 没有定位  is_num 1 一排一个 2 一排多个  jumpChange 1优惠券变化 2不变化
//location.assign('./supermarket.html'); $pagedata
var page_data = {
  "page_name": "index.html",
  "page_title": "舌尖上的哈尔滨",
  "share_obj": {
    "share_title": "舌尖上的哈尔滨",
    "share_desc": "舌尖上的哈尔滨"
  },
  "activity_id": "shejianshangdehaerbin",
  "panle_type": "1",
  "is_rule_btn": true,
  "is_share_btn": true,
  "img_list": [
    {
      "id": "4aaLDe",
      "title": "行1",
      "list": [
        {
          "id": "G8Wfdh",
          "img_name": "H5_01.png",
          "jump_type": "0",
          "url": "",
          "tjparam": ""
        }
      ]
    },
    {
      "id": "mfaR8G",
      "title": "行2",
      "list": [
        {
          "id": "26NYc8",
          "img_name": "H5_02.png",
          "jump_type": "0",
          "url": "",
          "tjparam": ""
        }
      ]
    },
    {
      "id": "hZ9Xx8",
      "title": "行3",
      "list": [
        {
          "id": "OEJpk6",
          "img_name": "H5_03.png",
          "jump_type": "0",
          "url": "",
          "tjparam": ""
        }
      ]
    },
    {
      "id": "KDqZld",
      "title": "行4",
      "list": [
        {
          "id": "QHoaiS",
          "img_name": "H5_04.png",
          "jump_type": "0",
          "url": "",
          "tjparam": ""
        }
      ]
    },
    {
      "id": "rHDo7Z",
      "title": "行5",
      "list": [
        {
          "id": "oXdxx5",
          "img_name": "H5_05.png",
          "jump_type": "0",
          "url": "",
          "tjparam": ""
        }
      ]
    },
    {
      "id": "iVzTnd",
      "title": "行6",
      "list": [
        {
          "id": "NxAoY7",
          "img_name": "H5_06.png",
          "jump_type": "0",
          "url": "",
          "tjparam": ""
        }
      ]
    },
    {
      "id": "C8nup9",
      "title": "行7",
      "list": [
        {
          "id": "vvWZGW",
          "img_name": "H5_07.png",
          "jump_type": "0",
          "url": "",
          "tjparam": ""
        }
      ]
    }
  ],
  "rule_postion": {
    "w": 80,
    "h": 53,
    "y": 120,
    "x": 295,
    "type": "rule"
  },
  "share_postion": {
    "w": 110,
    "h": 85,
    "y": 186,
    "x": 265,
    "type": "share"
  },
  "address_arry": [],
  "pop_desc": "（一）代金券详情\n    1.活动时间：2023年7月5日09:00:00至7月31日23:59:59。\n    2.购买说明：\n    （1）活动期间，建行生活APP注册用户可购买本券，购买时需使用建行储蓄卡或建行信用卡绑定龙支付或建行生活钱包支付进行付款。\n    （2）本代金券共2000张，购完即止。活动时间内同一用户每种券限购1次，购完即止。代金券购买后7天内有效，支持随时退、过期自动退。\n    3.本券使用说明如下：\n    （1）使用时间：营业时间内可用\n    （2）适用范围：仅限9元大杯金桔柠檬/指定西瓜饮品套餐\n    （3）使用规则：\n    免预约，仅限到店使用\n    不与店内其他优惠同享\n    不兑换，不找零\n（二）代金券使用规则\n    1.本券仅适用于用户本人到店消费使用，不支持远程下单核券，请在下单前先购买兑换券，若下单后购券，则需重新下单后才能使用兑换券。兑换券不与建行生活APP其他优惠叠加使用。同一登录账号、同一手机号、同一终端设备号、或其它合理显示为同一用户的情形，均视为同一用户。\n    2.用户购买成功之后，可通过“建行生活APP-我的-优惠券-购买券”查看兑换券，兑换券具体使用规则以详情为准。本活动兑换券仅支持在【建行生活APP】内购买，截屏、修改无效，打印、复印无效；由于本兑换券为不记名券码，请用户妥善保管。\n    3.兑换券不可提现、拆分、退补或转赠，不支持部分订单金额退款。兑换券支持随时退、过期退，用户申请主动退款或兑换券到期后2-15天内系统自动退款。若整笔订单退款且发生退款时使用的兑换券仍在有效期内，则实际支付金额（不包含兑换券抵扣金额）原路退回，兑换券可继续使用（有效期不予延长）；若整笔订单退款时所有使用的兑换券已过有效期，则退还用户实际支付的金额，且购买兑换券的金额原路退回。\n    4.商户仅对实付金额向客户开具发票，优惠金额不向客户开具发票。其他开票问题请咨询消费门店。\n    5.兑换券可用门店详见适用门店列表，具体适用商品以兑换券名称及商户安排为准（本优惠券不适用于购买或者充值会员卡、餐券等预付卡）。如商户出现偶发性断货等情况，用户可与商家充分沟通，通过兑换等价商品或退券等方式维护权益。\n    6.如用户对本产品或服务有任何索赔、质询及投诉，可拨打客服热线95533/详询消费门店；中国建设银行将为用户提供必要的协助，如用户对建设银行产品或服务有任何疑问、意见或建议，可在“【建行生活APP】-我的-客服中心”咨询与反映。\n（三）代金券免责声明信息\n    1.活动过程中，如用户出现或涉嫌参与违法违规行为(包括但不限于，恶意获取活动参与或购券资格、利用不正当手段盗刷平台奖品及代金券等)，中国建设银行有权撤销用户的活动参与资格、优惠券使用资格，并有权撤销违规交易，回收用户已经获得的奖励权益（包含已消费部分），必要时将追究用户法律责任。\n    2.在法律许可范围内，中国建设银行有权修订本活动条款及细则(包括但不限于参加资格、奖励方式等)、暂停或取消本活动，并经相关途径(如建行网站、手机银行、微信公众号、建行生活等)公告后生效。购买本优惠券的用户即视为了解并同意遵守本优惠券规则。\n    3.用户需使用最新版本【建行生活APP】手机客户端参与本活动。因用户电子设备不支持、APP未更新到最新版本、卡片挂失或换卡等自身原因，或其他系统问题导致无法享受活动优惠的，中国建设银行不承担责任。",
  "upath": "C:\\Users\\xiong\\Downloads\\chunqiwanxiangcuxiaofei\\images"
}

$(function () {
    document.title = page_data.page_title
    let img_str = ""
    for (var i = 0; i < page_data.img_list.length; i++) {
        let item = page_data.img_list[i];
        img_str += `<div class="P${item.img_name}" style="display: flex;">`
        for (var j = 0; j < item.list.length; j++) {
            let itemc = item.list[j]
            if (itemc.jumpChange == 1) {
                img_str += `<div class="P${itemc.img_name}" onclick=${getJumpUrl(itemc.urlList)}>`
                img_str += `</div>`
            } else {
                if (itemc.jump_type == 'jump1') {
                    //不定位跳
                    img_str += `<div class="P${itemc.img_name}" onclick=jump1('${itemc.url}')>`

                }
                if (itemc.jump_type == "jump2") {
                    //定位跳
                    img_str += `<div class="P${itemc.img_name}" onclick=jump2('${itemc.url}')>`
                }
                if (itemc.jump_type == "jump3") {
                    //内部跳
                    img_str += `<div class="P${itemc.img_name}" onclick=jump3('${itemc.url}')>`
                }
                if (itemc.jump_type == 0) {
                    img_str += `<div class="P${itemc.img_name}">`
                }
                img_str += ` <img class="${itemc.img_name}"   src="images/${itemc.img_name}" alt="">`
                img_str += `</div>`
            }
            
        }
        img_str += `</div>`
    }
    $(".noneBox").append(img_str)

    $(".sub-cont pre").append(page_data.pop_desc)

    $(".rulesBtn").css("width", page_data.rule_postion.w*2/100 + "rem")
    $(".rulesBtn").css("height", page_data.rule_postion.h*2/100 + "rem")
    $(".rulesBtn").css("top", page_data.rule_postion.y*2/100 + "rem")
    $(".rulesBtn").css("left", page_data.rule_postion.x*2/100 + "rem")

    $(".fixedShare").css("width", page_data.share_postion.w*2/100 + "rem")
    $(".fixedShare").css("height", page_data.share_postion.h*2/100 + "rem")
    $(".fixedShare").css("top", page_data.share_postion.y*2/100 + "rem")
    $(".fixedShare").css("left", page_data.share_postion.x*2/100 + "rem")

    // try {
    //     btj();
    //   } catch (error) {
    //     console.log("分享----111==", error)
    //   }

})

function getJumpUrl(list) {
    if (!list.length) return
    //根据当前时间获取地址
    let currTime = new Date().getTime();
    let url = ""
    for (var i = 0; i < list.length; i++) {
        let item = list[i];
        let startTime = new Date(item.startTime).getTime();
        let endTime = new Date(item.endTime).getTime();
        if (currTime > startTime && currTime <= endTime) {
            url = item.mjump_fun;
            break;
        } else {
            url = list[0].mjump_fun;
        }
    }
    return url;
}
